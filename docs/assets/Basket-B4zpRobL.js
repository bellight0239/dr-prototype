import{d as x,q as p,_ as S,o as b,c as m,a as e,H as f,I as g,t as c,u as E,r as k,g as T,J as y,K as D,F as M,h as N,B,z as U,x as I,p as z,e as F,f as O}from"./index-9dVGQzj-.js";import{g as C}from"./utils-C8PGO6fV.js";const q=x({__name:"CountSelector",props:{color:{type:String,default:"#000000"},max:{type:Number,required:!0},modelValue:{type:Number,required:!0}},emits:["update:modelValue"],setup(r,{expose:i,emit:u}){i();const t=r,h=p(()=>t.modelValue>1),a=u,l={props:t,isDescrementAble:h,emit:a,increment:()=>{t.modelValue<t.max&&a("update:modelValue",t.modelValue+1)},decrement:()=>{t.modelValue>1&&a("update:modelValue",t.modelValue-1)}};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}}),L={class:"count"};function H(r,i,u,t,h,a){return b(),m("div",{class:f(["count-selector",[t.props.color]])},[e("button",{class:f(["btn-transparent decrement-btn",{disabled:!t.isDescrementAble}]),onClick:g(t.decrement,["stop"])},"-",2),e("span",L,c(t.props.modelValue),1),e("button",{class:"btn-transparent increment-btn",onClick:g(t.increment,["stop"])},"+")],2)}const J=S(q,[["render",H],["__scopeId","data-v-88e327e3"],["__file","/Users/hyewonchoi/project/bob-dr/src/components/CountSelector.vue"]]),K=x({__name:"Basket",setup(r,{expose:i}){i();const u=E(),t=k([]),h=k(!0),a=()=>{t.value=[{id:4,title:"저당도시락 9종 당뇨도시락 환자 식단 단백질 탄단지...",option:"당뇨도시락 3종 3팩",original_price:22500,delivery_price:0,sale:16,price:18900,score:0,cnt:1,review_cnt:0,is_like:!1,is_checked:!0,img_src:"https://bob-prod-bucket.s3.ap-northeast-2.amazonaws.com/img_item_dummy_3.png"},{id:2,title:"[조이키토] 수제 버터바 4개입",option:"오리지널 해톡주스 10팩",original_price:22500,delivery_price:3e3,sale:16,price:18900,score:0,cnt:1,review_cnt:0,is_like:!1,is_checked:!0,img_src:"https://bob-prod-bucket.s3.ap-northeast-2.amazonaws.com/img_item_dummy_1.png"}]},o=s=>{t.value[s].is_checked=!t.value[s].is_checked},_=p(()=>C(t.value.filter(s=>s.is_checked).reduce((s,n)=>s+n.original_price,0))),l=p(()=>{let s=t.value.filter(n=>n.is_checked).reduce((n,j)=>n+j.delivery_price,0);return s===0?"무료배송":`${C(s)}원`}),V=p(()=>C(t.value.filter(s=>s.is_checked).reduce((s,n)=>s+(n.original_price-n.price),0))),A=p(()=>C(t.value.filter(s=>s.is_checked).reduce((s,n)=>s+n.price+n.delivery_price,0))),w=p(()=>t.value.filter(s=>s.is_checked).length),P=()=>{u.go(-1)};T(()=>{a()});const v={router:u,list:t,isAllSelect:h,loadProductList:a,toggleCheckbox:o,getTotalOriginalPrice:_,getTotalDeliveryPrice:l,getTotalDiscountPrice:V,getTotalPrice:A,getSelectedCnt:w,goBack:P,get getMoneyStr(){return C},CountSelector:J};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}}),d=r=>(z("data-v-9fbd96f9"),r=r(),F(),r),R={class:"basket-page-container"},G=d(()=>e("div",{class:"d-flex align-center"},[e("img",{src:O,class:"head-icon"}),B(" 장바구니 ")],-1)),Q=d(()=>e("div",{class:"cross"},null,-1)),W=[Q],X={class:"content-container"},Y={class:"justify-between px-3"},Z={class:"checkbox-form"},$=d(()=>e("label",{for:"isAllSelect"},"전체선택",-1)),ee=d(()=>e("button",{class:"btn btn-transparent btn-delete-all"},"선택삭제",-1)),te={class:"list"},se=["onClick"],oe={class:"checkbox-form"},ce=["onUpdate:modelValue","id"],ne=["for"],ie={class:"content-wrap"},le={class:"title text-ellipsis"},re={class:"option"},ae={class:"delivery"},de={class:"img-row d-flex align-center"},ue=["src"],_e={class:"price-wrap"},pe={class:"price"},he={key:0,class:"original-price"},Ce={class:"result-container"},be={class:"justify-between"},me=d(()=>e("span",null,"상품 금액",-1)),ge={class:"justify-between"},ve=d(()=>e("span",null,"상품 할인 금액",-1)),fe={class:"txt-red"},ke={class:"justify-between"},ye=d(()=>e("span",null,"배송비",-1)),De={class:"total-row text-align-right"},xe={class:"basket-footer"},Se={class:"btn btn-call"},Be={class:"btn btn-order"};function Ve(r,i,u,t,h,a){return b(),m("div",R,[e("div",{class:"detail-header align-center justify-between"},[G,e("button",{class:"btn btn-transparent btn-close",onClick:t.goBack},[...W])]),e("div",X,[e("div",Y,[e("div",Z,[y(e("input",{type:"checkbox",class:"checkbox","onUpdate:modelValue":i[0]||(i[0]=o=>t.isAllSelect=o),id:"isAllSelect"},null,512),[[D,t.isAllSelect]]),$]),ee]),e("ul",te,[(b(!0),m(M,null,N(t.list,(o,_)=>(b(),m("li",{class:"item",onClick:l=>t.toggleCheckbox(_)},[e("div",oe,[y(e("input",{type:"checkbox",class:"checkbox","onUpdate:modelValue":l=>o.is_checked=l,id:"basket_"+_+"_checkbox",onClick:i[1]||(i[1]=g(()=>{},["stop"]))},null,8,ce),[[D,o.is_checked]]),e("label",{for:"basket_"+_+"_checkbox"},null,8,ne)]),e("div",ie,[e("div",le,c(o.title),1),e("div",re,c(o.option),1),e("div",ae,"배송비: "+c(o.delivery_price===0?"무료":t.getMoneyStr(o.delivery_price)+"원"),1),e("div",de,[e("img",{src:o.img_src,alt:"제품이미지"},null,8,ue),e("div",_e,[e("div",pe,c(t.getMoneyStr(o.price))+"원",1),o.original_price>0?(b(),m("div",he,c(t.getMoneyStr(o.original_price))+"원",1)):U("v-if",!0),I(t.CountSelector,{modelValue:o.cnt,"onUpdate:modelValue":l=>o.cnt=l,color:"grey",max:5},null,8,["modelValue","onUpdate:modelValue","max"])])])])],8,se))),256))]),e("div",Ce,[e("div",be,[me,e("span",null,c(t.getTotalOriginalPrice)+"원",1)]),e("div",ge,[ve,e("span",fe,"-"+c(t.getTotalDiscountPrice)+"원",1)]),e("div",ke,[ye,e("span",null,c(t.getTotalDeliveryPrice),1)]),e("div",De,[B(" 총 상품 금액 "),e("span",null,c(t.getTotalPrice)+"원",1)])])]),e("div",xe,[e("button",Se,"전화 주문하기 ("+c(t.getSelectedCnt)+"건)",1),e("button",Be,"구매하기 ("+c(t.getSelectedCnt)+"건)",1)])])}const Pe=S(K,[["render",Ve],["__scopeId","data-v-9fbd96f9"],["__file","/Users/hyewonchoi/project/bob-dr/src/views/Basket.vue"]]);export{Pe as default};
